from typing import Dict, Any, List
from datetime import datetime

# --- ุฑุณุงุฆู ุนุงูุฉ ---

MSG_WELCOME = "ูุฑุญุจุงู ุจู ูู ุจูุช ุงูุฃุฑูุงู ุงููุฌุงููุฉ ุงูุงุญุชุฑุงูู! ๐ค\n\nุงุณุชุฎุฏู ุงูุฃุฒุฑุงุฑ ุฃุฏูุงู ููุชููู ุจูู ููุฒุงุช ุงูุจูุช."
MSG_MAIN_MENU = "ุฃููุงู ุจู ูู ุงููุงุฆูุฉ ุงูุฑุฆูุณูุฉ. ุงุฎุชุฑ ูุง ุชุฑูุฏ: ๐"
MSG_ADMIN_MENU = "ุฃููุงู ุจู ูุง ูุฏูุฑ! ๐\nููุง ููุญุฉ ุงูุชุญูู ุงูุฎุงุตุฉ ุจู. ุงุฎุชุฑ ุงูุฅุฌุฑุงุก ุงููุทููุจ:"
MSG_INVALID_COMMAND = "ุฃูุฑ ุบูุฑ ุตุงูุญ. ูุฑุฌู ุงุณุชุฎุฏุงู ุงูุฃุฒุฑุงุฑ ุฃู ุงูุฃูุงูุฑ ุงููุชุงุญุฉ."
MSG_ACCESS_DENIED = "ุนุฐุฑุงูุ ูุฐู ุงูููุฒุฉ ูุชุงุญุฉ ููุท ูููุฏูุฑ ุฃู ููุณุชุฎุฏูู PRO."
MSG_CHANNEL_REQUIRED = "ูุฌุจ ุนููู ุงูุงุดุชุฑุงู ูู ุงููููุงุช ุงูุชุงููุฉ ูููุชุงุจุนุฉ:\n{channels_list}\n\nุจุนุฏ ุงูุงุดุชุฑุงูุ ุงุถุบุท /start ูุฑุฉ ุฃุฎุฑู."
MSG_ERROR = "ุญุฏุซ ุฎุทุฃ ุบูุฑ ูุชููุน. ูุฑุฌู ุงููุญุงููุฉ ูุงุญูุงู."

# --- ุฑุณุงุฆู PRO ---

def get_pro_status_message(user: Dict[str, Any]) -> str:
    """ุฑุณุงูุฉ ุญุงูุฉ ุงุดุชุฑุงู PRO."""
    if user['is_pro'] == 1:
        expiry = datetime.strptime(user['pro_expiry'], "%Y-%m-%d %H:%M:%S")
        remaining = expiry - datetime.now()
        
        return (
            "โ **ุญุงูุฉ ุญุณุงุจู: PRO ููุนู**\n\n"
            f"๐ **ุชุงุฑูุฎ ุงูุงูุชูุงุก:** {expiry.strftime('%Y-%m-%d %H:%M:%S')}\n"
            f"โณ **ุงููุชุจูู:** {remaining.days} ูููุงู ู {remaining.seconds // 3600} ุณุงุนุฉ.\n\n"
            "ุงุณุชูุชุน ุจุงูููุฒุงุช ุงูุญุตุฑูุฉ!"
        )
    else:
        return (
            "โ **ุญุงูุฉ ุญุณุงุจู: ูุณุชุฎุฏู ุนุงุฏู**\n\n"
            "ููุญุตูู ุนูู ุณุฑุนุฉ ูุนุงูุฌุฉ ุฃุนููุ ุฃููููุฉ ูู ุงูุฃุฑูุงูุ ูููุฒุงุช ุฃุฎุฑูุ ุงุดุชุฑู ูู PRO ุงูุขู!"
        )

def get_pro_price_message(cost: int, duration: int) -> str:
    """ุฑุณุงูุฉ ุณุนุฑ ุงุดุชุฑุงู PRO."""
    return (
        "๐ฐ **ุดุฑุงุก ุงุดุชุฑุงู PRO**\n\n"
        f"ูุฏุฉ ุงูุงุดุชุฑุงู: **{duration} ูููุงู**\n"
        f"ุงูุชูููุฉ: **{cost} ููุทุฉ**\n\n"
        "ูู ุฃูุช ูุชุฃูุฏ ูู ุงูุดุฑุงุกุ ุณูุชู ุฎุตู ุงูููุงุท ูู ุฑุตูุฏู."
    )

MSG_PRO_BUY_SUCCESS = "๐ ุชู ุดุฑุงุก ุงุดุชุฑุงู PRO ุจูุฌุงุญ! ุชู ุชูุนููู ููุฏุฉ {duration} ูููุงู. ุงุณุชูุชุน ุจุงููุฒุงูุง!"
MSG_PRO_BUY_FAILED_POINTS = "โ ูุดู ุงูุดุฑุงุก. ุฑุตูุฏู ุงูุญุงูู ({current_points} ููุทุฉ) ุบูุฑ ูุงูู. ุชุญุชุงุฌ ุฅูู {required_points} ููุทุฉ."
MSG_PRO_BUY_FAILED_GENERAL = "โ ูุดู ุงูุดุฑุงุก. ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุชูุนูู ุงูุงุดุชุฑุงู."
MSG_PRO_ENTER_CODE = "๐ ูุฑุฌู ุฅุฏุฎุงู ููุฏ PRO ุงูุฐู ูุฏูู ุงูุขู:"
MSG_PRO_CODE_SUCCESS = "๐ ุชู ุชูุนูู ุงุดุชุฑุงู PRO ุจูุฌุงุญ ุจุงุณุชุฎุฏุงู ุงูููุฏ! ุชู ุชูุนููู ููุฏุฉ {duration} ูููุงู."
MSG_PRO_CODE_INVALID = "โ ููุฏ PRO ุบูุฑ ุตุงูุญุ ุฃู ูุณุชุฎุฏู ูุณุจูุงูุ ุฃู ููุชูู ุงูุตูุงุญูุฉ."

# --- ุฑุณุงุฆู ุงูููุงุท ---

def get_user_profile_message(user: Dict[str, Any]) -> str:
    """ุฑุณุงูุฉ ููู ุงููุณุชุฎุฏู ุงูุดุฎุตู."""
    return (
        "๐ค **ูููู ุงูุดุฎุตู**\n\n"
        f"๐ **ูุนุฑู ุงููุณุชุฎุฏู:** `{user['id']}`\n"
        f"๐ **ุงูููุงุท ุงูุญุงููุฉ:** **{user['points']}** ููุทุฉ\n"
        f"๐ **ุญุงูุฉ ุงูุญุณุงุจ:** {'โญ PRO' if user['is_pro'] == 1 else '๐ค ุนุงุฏู'}\n"
        f"๐ **ุฅุฌูุงูู ุงูุฏุนูุงุช:** {user['total_invites']}\n"
        f"โ **ุฅุซุจุงุชุงุช ููุจููุฉ:** {user['proofs_submitted']}\n"
        f"๐๏ธ **ุชุงุฑูุฎ ุงูุงูุถูุงู:** {user['joined_at'].split(' ')[0]}"
    )

def get_daily_bonus_message(points: int) -> str:
    """ุฑุณุงูุฉ ุงูููุงูุฃุฉ ุงูููููุฉ."""
    if points > 0:
        return f"๐ ุชูุงูููุง! ููุฏ ุญุตูุช ุนูู **{points}** ููุทุฉ ูููุงูุฃุฉ ููููุฉ. ููููู ุงููุทุงูุจุฉ ุจูุง ูุฑุฉ ุฃุฎุฑู ุบุฏุงู."
    elif points == 0:
        return "โณ ููุฏ ุทุงูุจุช ุจุงูููุงูุฃุฉ ุงูููููุฉ ุจุงููุนู. ุนุฏ ุฅูููุง ุบุฏุงู!"
    else:
        return MSG_ERROR

MSG_POINTS_ENTER_TRANSFER_AMOUNT = "๐ธ ูุฑุฌู ุฅุฏุฎุงู ุนุฏุฏ ุงูููุงุท ุงูุชู ุชุฑูุฏ ุชุญููููุง:"
MSG_POINTS_ENTER_RECEIVER_ID = "๐ค ูุฑุฌู ุฅุฏุฎุงู ูุนุฑู ุงููุณุชุฎุฏู (ID) ุงูุฐู ุชุฑูุฏ ุชุญููู ุงูููุงุท ุฅููู:"
MSG_POINTS_TRANSFER_SUCCESS = "โ ุชู ุชุญููู **{points}** ููุทุฉ ุจูุฌุงุญ ุฅูู ุงููุณุชุฎุฏู `{receiver_id}`."
MSG_POINTS_TRANSFER_FAILED_INSUFFICIENT = "โ ูุดู ุงูุชุญููู. ุฑุตูุฏู ุบูุฑ ูุงูู."
MSG_POINTS_TRANSFER_FAILED_RECEIVER = "โ ูุดู ุงูุชุญููู. ูู ูุชู ุงูุนุซูุฑ ุนูู ุงููุณุชุฎุฏู ุงููุณุชูุจูู ุฃู ุฃูู ูุญุธูุฑ."
MSG_POINTS_TRANSFER_FAILED_SELF = "โ ูุง ููููู ุชุญููู ุงูููุงุท ุฅูู ููุณู."
MSG_POINTS_TRANSFER_FAILED_INVALID_AMOUNT = "โ ูุฑุฌู ุฅุฏุฎุงู ุนุฏุฏ ุตุญูุญ ููุฌุจ ููููุงุท."
MSG_POINTS_HISTORY_HEADER = "๐ **ุณุฌู ุงูููุงุท ุงูุฃุฎูุฑ** (ุขุฎุฑ {limit} ุนูููุฉ):\n"
MSG_POINTS_HISTORY_ITEM = "โข **{change:+d}** ููุทุฉ ({reason}) ูู {date}"
MSG_POINTS_HISTORY_EMPTY = "ูุง ููุฌุฏ ุณุฌู ููุงุท ุญุชู ุงูุขู."

# --- ุฑุณุงุฆู ุงูุฅุนูุงูุงุช ---

def get_ad_message(ad: Dict[str, Any]) -> str:
    """ุฑุณุงูุฉ ุนุฑุถ ุงูุฅุนูุงู ูููุณุชุฎุฏู."""
    return (
        "๐ข **ุฅุนูุงู ูุฏููุน**\n\n"
        f"**ุงูููุงูุฃุฉ:** **{ad['reward_points']}** ููุทุฉ\n\n"
        f"**ุงููุญุชูู:**\n{ad['content']}\n\n"
        "ูุฑุฌู ุงูุถุบุท ุนูู ุฒุฑ **ุชุฃููุฏ ุงููุดุงูุฏุฉ** ููุญุตูู ุนูู ุงูููุงุท."
    )

MSG_AD_REWARD_SUCCESS = "๐ ุดูุฑุงู ูู ุนูู ุงููุดุงูุฏุฉ! ุชู ุฅุถุงูุฉ **{points}** ููุทุฉ ุฅูู ุฑุตูุฏู."
MSG_AD_REWARD_ALREADY_VIEWED = "๐ ููุฏ ุดุงูุฏุช ูุฐุง ุงูุฅุนูุงู ุจุงููุนู ูุญุตูุช ุนูู ููุงูุฃุชู."
MSG_AD_NO_ADS = "ูุง ุชูุฌุฏ ุฅุนูุงูุงุช ูุชุงุญุฉ ูููุดุงูุฏุฉ ุญุงููุงู. ูุฑุฌู ุงููุญุงููุฉ ูุงุญูุงู."

# --- ุฑุณุงุฆู ุงููุฏูุฑ ---

MSG_ADMIN_SETUP_WELCOME = "ูุฑุญุจุงู ุจู ูู ุฅุนุฏุงุฏ ุงูุจูุช ุงูุฃููู! ๐๏ธ\n\nูุถูุงู ุนูู ุงูุจูุช ุจููุงุกุฉุ ูุฑุฌู ุถุจุท ุงูุฅุนุฏุงุฏุงุช ุงูุฃุณุงุณูุฉ."
MSG_ADMIN_SETUP_CHANNELS = "๐ **ุงูุฎุทูุฉ 1: ุงููููุงุช ุงูุฅูุฒุงููุฉ**\n\nูุฑุฌู ุฅุฑุณุงู ูุนุฑู (ID) ุฃู ุงุณู ุงููุณุชุฎุฏู (@username) ููููุงุฉ ุงูุฅูุฒุงููุฉ ุงูุฃููู. (ุฃุฑุณู /skip ููุชุฎุทู)."
MSG_ADMIN_SETUP_POINTS = "๐ฐ **ุงูุฎุทูุฉ 2: ุฅุนุฏุงุฏุงุช ุงูููุงุท ุงูุงูุชุฑุงุถูุฉ**\n\nูุฑุฌู ุฅุฑุณุงู ุงูููุงุท ุงูุงูุชุฑุงุถูุฉ ููููุงูุฃุฉ ุงูููููุฉ (ุงููููุฉ ุงูุญุงููุฉ: {current_value})."
MSG_ADMIN_SETUP_COMPLETE = "โ ุงูุชูู ุงูุฅุนุฏุงุฏ ุงูุฃููู ุจูุฌุงุญ! ููููู ุงูุขู ุงุณุชุฎุฏุงู ููุญุฉ ุชุญูู ุงููุฏูุฑ โ๏ธ."
MSG_ADMIN_ENTER_USER_ID = "๐ค ูุฑุฌู ุฅุฏุฎุงู ูุนุฑู ุงููุณุชุฎุฏู (ID) ุงููุทููุจ:"
MSG_ADMIN_ENTER_POINTS = "๐ฐ ูุฑุฌู ุฅุฏุฎุงู ุนุฏุฏ ุงูููุงุท (ูููุฉ ููุฌุจุฉ ููุฅุถุงูุฉุ ุฃู ุณุงูุจุฉ ููุฎุตู):"
MSG_ADMIN_ENTER_REASON = "๐ ูุฑุฌู ุฅุฏุฎุงู ุณุจุจ ุงูุฅุฌุฑุงุก (ููุชูุซูู):"
MSG_ADMIN_POINTS_ADDED = "โ ุชู ุฅุถุงูุฉ {points} ููุทุฉ ุจูุฌุงุญ ูููุณุชุฎุฏู `{user_id}`."
MSG_ADMIN_POINTS_SUBTRACTED = "โ ุชู ุฎุตู {points} ููุทุฉ ุจูุฌุงุญ ูู ุงููุณุชุฎุฏู `{user_id}`."
MSG_ADMIN_USER_NOT_FOUND = "โ ูู ูุชู ุงูุนุซูุฑ ุนูู ุงููุณุชุฎุฏู ุจุงููุนุฑู ุงููุฏุฎู."
MSG_ADMIN_INVALID_INPUT = "โ ุฅุฏุฎุงู ุบูุฑ ุตุงูุญ. ูุฑุฌู ุงูุชุฃูุฏ ูู ุฅุฏุฎุงู ุฑูู ุตุญูุญ."

# --- ุฑุณุงุฆู ุงูุฃุฑูุงู ---

MSG_NUMBERS_MENU = "๐ **ูุงุฆูุฉ ุงูุฃุฑูุงู ุงููุฌุงููุฉ**\n\nุงุฎุชุฑ ุงูุฏููุฉ ุงูุชู ุชุฑูุฏ ุงูุญุตูู ุนูู ุฑูู ูููุง:"
MSG_NUMBERS_SELECT_COUNTRY = "ูุฑุฌู ุงุฎุชูุงุฑ ุงูุฏููุฉ:"
MSG_NUMBERS_NO_NUMBERS = "ุนุฐุฑุงูุ ูุง ุชูุฌุฏ ุฃุฑูุงู ูุชุงุญุฉ ููุฐู ุงูุฏููุฉ ุญุงููุงู."

MSG_NUMBER_REQUEST_INITIATED = (
    "โณ **ุฌุงุฑู ุญุฌุฒ ุงูุฑูู**\n\n"
    "**ุงูุฑูู:** `{number}`\n"
    "**ุงูููุตุฉ:** {platform}\n\n"
    "ุชู ุญุฌุฒ ุงูุฑูู ุจูุฌุงุญ. ูุฑุฌู ุงุณุชุฎุฏุงู ุงูุฑูู ูู ุงูุชุทุจูู ุงููุทููุจ (ูุซู Telegram ุฃู WhatsApp) ูุงูุถุบุท ุนูู ุฒุฑ **ุงูุชุญูู ูู ูุตูู ุงูููุฏ**.\n\n"
    "**ููุงุญุธุฉ:** ุณููุชูู ุงูุญุฌุฒ ูู {expiry}."
)

MSG_NUMBER_REQUEST_CHECK = "๐ ุฌุงุฑู ุงูุชุญูู ูู ูุตูู ููุฏ ุงูุชูุนูู..."

MSG_NUMBER_CODE_RECEIVED = (
    "๐ **ูุตู ุงูููุฏ ุจูุฌุงุญ!**\n\n"
    "**ููุฏ ุงูุชูุนูู ูู:** `{code}`\n\n"
    "ูุฑุฌู ุงุณุชุฎุฏุงูู ููุฑุงู ูู ุงูุชุทุจูู. ุดูุฑุงู ูุงุณุชุฎุฏุงูู ุงูุจูุช!"
)

MSG_NUMBER_REQUEST_EXPIRED = (
    "โ **ุงูุชูุช ุตูุงุญูุฉ ุงูุญุฌุฒ**\n\n"
    "ููุฃุณูุ ุงูุชูุช ุตูุงุญูุฉ ุญุฌุฒ ุงูุฑูู. ูุฑุฌู ุงููุญุงููุฉ ูุฑุฉ ุฃุฎุฑู ุจุงุฎุชูุงุฑ ุฑูู ุขุฎุฑ."
)

MSG_NUMBER_REQUEST_NOT_READY = "โณ ูู ูุตู ุงูููุฏ ุจุนุฏ. ูุฑุฌู ุงููุญุงููุฉ ูุฑุฉ ุฃุฎุฑู ุจุนุฏ ูููู."
